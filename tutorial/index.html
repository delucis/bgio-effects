<!DOCTYPE html><html dir="ltr" lang="en-us" class="initial astro-LQWZJZ7L"><head>
		<!-- Global Metadata -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">

<link rel="icon" type="image/svg+xml" href="https://delucis.github.io/bgio-effects/favicon.svg">

<link rel="sitemap" href="https://delucis.github.io/bgio-effects/sitemap.xml">

<!-- Global CSS -->
<link rel="stylesheet" href="../assets/index.ba238b3c.css"><link rel="stylesheet" href="../assets/ThemeToggleButton.0b105b36.css"><link rel="stylesheet" href="../assets/SrcLink.2ce7b4b8.css"><link rel="stylesheet" href="../assets/tutorial.e78c5587.css"><link rel="stylesheet" href="../assets/board.01724003.css">



<!-- Scrollable a11y code helper -->


<!-- This is intentionally inlined to avoid FOUC -->
<script>
	const root = document.documentElement;
	const theme = localStorage.getItem('theme');
	if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
		root.classList.add('theme-dark');
	} else {
		root.classList.remove('theme-dark');
	}
</script>

		
<!-- Page Metadata -->
<link rel="canonical" href="https://delucis.github.io/bgio-effects/tutorial/">

<!-- OpenGraph Tags -->
<meta property="og:title" content="Tutorial • 📤 bgio-effects">
<meta property="og:type" content="article">
<meta property="og:url" content="https://delucis.github.io/bgio-effects/tutorial/">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://delucis.github.io/bgio-effects/default-og-image.jpg">
<meta property="og:image:alt" content="the text “bgio-effects” glows over a swirl of blurry colours">
<meta name="description" property="og:description" content="A guide to using bgio-effects with boardgame.io.">
<meta property="og:site_name" content="📤 bgio-effects">

<!-- Twitter Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="swithinbank">
<meta name="twitter:title" content="Tutorial • 📤 bgio-effects">
<meta name="twitter:description" content="A guide to using bgio-effects with boardgame.io.">
<meta name="twitter:image" content="https://delucis.github.io/bgio-effects/default-og-image.jpg">
<meta name="twitter:image:alt" content="the text “bgio-effects” glows over a swirl of blurry colours">

		<title>Tutorial • 📤 bgio-effects</title>
		
	










<script type="module" src="../assets/tutorial.63fb509f.js"></script>











</head>

	<body>
		
<header class="astro-BLVSDZMP">
	<a href="#article" class="sr-only focus:not-sr-only skiplink astro-TRSJ2LGA"><span class="astro-TRSJ2LGA">Skip to Content</span></a>



	<nav class="nav-wrapper astro-BLVSDZMP" title="Top Navigation">
		<div class="menu-toggle astro-BLVSDZMP">
			<astro-root uid="Z2bOkkC"><button class="sidebar-toggle" type="button" aria-pressed="false" id="menu-toggle"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg><span class="sr-only">Toggle sidebar</span></button></astro-root>
		</div>
		<div class="astro-BLVSDZMP">
			<a class="site-title astro-BLVSDZMP" href="/bgio-effects/">
				<h1 class="astro-BLVSDZMP">📤 bgio-effects</h1>
			</a>
		</div>
		<div style="flex-grow: 1;" class="astro-BLVSDZMP"></div>
	</nav>
</header>



		<main class="layout astro-LQWZJZ7L">
			<aside id="grid-left" class="grid-sidebar astro-LQWZJZ7L" title="Site Navigation">
				
<nav aria-labelledby="grid-left" class="astro-HR6GW4QM">
	<ul class="nav-groups astro-HR6GW4QM">
		<li class="astro-HR6GW4QM">
				<div class="nav-group astro-HR6GW4QM">
					<h2 class="nav-group-title astro-HR6GW4QM">Setup</h2>
					<ul class="astro-HR6GW4QM">
						<li class="nav-link astro-HR6GW4QM">
								<a href="/bgio-effects/" aria-current="false" class="astro-HR6GW4QM">
									Introduction
								</a>
							</li><li class="nav-link astro-HR6GW4QM">
								<a href="/bgio-effects/tutorial" aria-current="page" class="astro-HR6GW4QM">
									Tutorial
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-HR6GW4QM">
				<div class="nav-group astro-HR6GW4QM">
					<h2 class="nav-group-title astro-HR6GW4QM">Game Plugin</h2>
					<ul class="astro-HR6GW4QM">
						<li class="nav-link astro-HR6GW4QM">
								<a href="/bgio-effects/plugin/config" aria-current="false" class="astro-HR6GW4QM">
									Configuration
								</a>
							</li><li class="nav-link astro-HR6GW4QM">
								<a href="/bgio-effects/plugin/sequencing" aria-current="false" class="astro-HR6GW4QM">
									Sequencing effects
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-HR6GW4QM">
				<div class="nav-group astro-HR6GW4QM">
					<h2 class="nav-group-title astro-HR6GW4QM">Client</h2>
					<ul class="astro-HR6GW4QM">
						<li class="nav-link astro-HR6GW4QM">
								<a href="/bgio-effects/client/plain-js" aria-current="false" class="astro-HR6GW4QM">
									Plain JS
								</a>
							</li><li class="nav-link astro-HR6GW4QM">
								<a href="/bgio-effects/client/react" aria-current="false" class="astro-HR6GW4QM">
									React
								</a>
							</li><li class="nav-link astro-HR6GW4QM">
								<a href="/bgio-effects/client/notes" aria-current="false" class="astro-HR6GW4QM">
									Notes
								</a>
							</li>
					</ul>
				</div>
			</li>
	</ul>
</nav>

<script>
	window.addEventListener('DOMContentLoaded', (event) => {
		var target = document.querySelector('[aria-current="page"]');
		if (target && target.offsetTop > window.innerHeight - 100) {
			document.querySelector('.nav-groups').scrollTop = target.offsetTop;
		}
	});
</script>



			</aside>
			<div id="grid-main" class="astro-LQWZJZ7L">
				
<article id="article" class="content astro-O4NKPHGZ">
	<section class="main-section astro-O4NKPHGZ">
		<h1 class="content-title astro-O4NKPHGZ" id="overview">Tutorial</h1>
		<nav class="block sm:hidden astro-O4NKPHGZ" aria-label="Table of Contents">
			<astro-root uid="ZDB7c1"><h2 class="heading">On this page</h2><ul><li class="header-link depth-2"><a href="#overview">Overview</a></li><li class="header-link depth-2"><a href="#installation">Installation</a></li><li class="header-link depth-2"><a href="#our-starting-point">Our starting point</a></li><li class="header-link depth-2"><a href="#spot-the-difference">Spot the difference</a></li><li class="header-link depth-2"><a href="#adding-effects-to-the-game">Adding effects to the game</a></li><li class="header-link depth-2"><a href="#listening-for-effects">Listening for effects</a></li><li class="header-link depth-2"><a href="#wait-a-second">Wait a second…</a></li><li class="header-link depth-2"><a href="#wrapping-up">Wrapping up</a></li></ul></astro-root>
		</nav>
		<p>This guide shows how adding <code data-astro-raw="">bgio-effects</code> to an example boardgame.io game
can help solve subtle issues that may occur when rendering your game state
on the client. It assumes a basic understanding of the <a href="https://boardgame.io/">boardgame.io</a>
framework. Check out <a href="https://boardgame.io/documentation/#/tutorial">the tutorial in their docs</a> to learn more.</p><h2 id="installation">Installation</h2><p>To start using <code data-astro-raw="">bgio-effects</code>, we first have to add the NPM package to our
project:</p><pre class="language-bash"><code data-astro-raw="" class="language-bash"><span class="token function">npm</span> i bgio-effects

<span class="token comment"># or yarn add bgio-effects</span></code></pre><h2 id="our-starting-point">Our starting point</h2><p>We will start with a single-player game. Each turn, the player rolls a die.
If they roll a 6, they get a point. Once they’ve scored 5 points, they win!</p><pre class="language-js"><code data-astro-raw="" class="language-js"><span class="token keyword">const</span> game <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// Game state includes the current die value &amp; the current score.</span>
  <span class="token function-variable function">setup</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">roll</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token literal-property property">moves</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">roll</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token constant">G</span><span class="token punctuation">,</span> ctx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token constant">G</span><span class="token punctuation">.</span>roll <span class="token operator">=</span> ctx<span class="token punctuation">.</span>random<span class="token punctuation">.</span><span class="token constant">D6</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">G</span><span class="token punctuation">.</span>roll <span class="token operator">===</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token constant">G</span><span class="token punctuation">.</span>score<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// End the game when the player has scored 5 points.</span>
  <span class="token function-variable function">endIf</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token constant">G</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">G</span><span class="token punctuation">.</span>score <span class="token operator">&gt;=</span> <span class="token number">5</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>A UI for playing this thrilling game of skill could look something like this.</p><astro-root uid="1y9IMR"><div class="bgio-client"><div class="board"><div class="left-panel"><div class="left-panel-top"><div class="jk-die" style="--jk-die-size:3rem" aria-label="Die showing 1" role="img"><div class="jk-shadow" aria-hidden="true"></div><div class="jk-die-body" style="transform:rotateX(20deg) rotateZ(45deg) rotateY(90deg)" aria-hidden="true"><div class="jk-internal" style="transform:rotateZ(0deg)"></div><div class="jk-internal" style="transform:rotateX(90deg)"></div><div class="jk-internal" style="transform:rotateY(90deg)"></div><div class="jk-face" style="transform:rotateY(-90deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="50" cy="50"></circle></svg></div><div class="jk-inner-face" style="transform:rotateY(-90deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateX(-90deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="75" cy="25"></circle></svg></div><div class="jk-inner-face" style="transform:rotateX(-90deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateY(90deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="50" cy="50"></circle><circle r="7" cx="75" cy="25"></circle></svg></div><div class="jk-inner-face" style="transform:rotateY(90deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateY(0deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="25"></circle><circle r="7" cx="75" cy="25"></circle><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="75" cy="75"></circle></svg></div><div class="jk-inner-face" style="transform:rotateY(0deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateX(90deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="25"></circle><circle r="7" cx="75" cy="25"></circle><circle r="7" cx="50" cy="50"></circle><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="75" cy="75"></circle></svg></div><div class="jk-inner-face" style="transform:rotateX(90deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateX(180deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="25"></circle><circle r="7" cx="75" cy="25"></circle><circle r="7" cx="25" cy="50"></circle><circle r="7" cx="75" cy="50"></circle><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="75" cy="75"></circle></svg></div><div class="jk-inner-face" style="transform:rotateX(180deg) translateZ(calc(var(--jk-die-size) * .49))"></div></div></div></div><button class="left-panel-bottom">Roll Die</button></div><div><p><span>Rolls: <strong>0</strong></span><br><label><span>Sixes: <strong>0</strong></span><progress max="5" value="0">0</progress></label></p><p></p></div><small class="src-link"><a href="https://github.com/delucis/bgio-effects/blob/latest/docs/src/pages/tutorial/snippet-1.tsx">snippet-1.tsx</a></small></div></div></astro-root><p>Here’s an example of how we might update the die each time we receive a state
update from boardgame.io. This code is buggy. We’ll see why in the next
section.</p>
<div class="tabbed astro-HYSHTKDU">
  <ul class="astro-HYSHTKDU">
    <li class="astro-HYSHTKDU"><a href="#section-1-e5ve2tns8c0" class="astro-HYSHTKDU">Plain JS</a></li>
    <li class="astro-HYSHTKDU"><a href="#section-2-e5ve2tns8c0" class="astro-HYSHTKDU">React</a></li>
  </ul>
  <div class="content astro-HYSHTKDU">
    <section id="section-1-e5ve2tns8c0" class="astro-HYSHTKDU">
      <pre class="language-js"><code data-astro-raw="" class="language-js"><span class="token keyword">let</span> previousRoll<span class="token punctuation">;</span>

client<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> <span class="token constant">G</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// If G.roll has changed, trigger the die’s roll animation.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">G</span><span class="token punctuation">.</span>roll <span class="token operator">!==</span> previousRoll<span class="token punctuation">)</span> <span class="token function">animateDie</span><span class="token punctuation">(</span><span class="token constant">G</span><span class="token punctuation">.</span>roll<span class="token punctuation">)</span><span class="token punctuation">;</span>
  previousRoll <span class="token operator">=</span> <span class="token constant">G</span><span class="token punctuation">.</span>roll<span class="token punctuation">;</span>

  <span class="token comment">// more logic to render score, etc.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>(The <code data-astro-raw="">client</code> variable in this example is a plain JS boardgame.io client.)</p>
    </section>
    <section id="section-2-e5ve2tns8c0" class="astro-HYSHTKDU">
      <pre class="language-jsx"><code data-astro-raw="" class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">Board</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> <span class="token constant">G</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Each time G.roll changes, trigger the die’s roll animation.</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">animateDie</span><span class="token punctuation">(</span><span class="token constant">G</span><span class="token punctuation">.</span>roll<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token constant">G</span><span class="token punctuation">.</span>roll<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token comment">/* render die, score etc. */</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
    </section>
  </div>
</div>



<h2 id="spot-the-difference">Spot the difference</h2><p>boardgame.io tells us the current state of the game each time it changes.
But it doesn’t tell us <em>what</em> changed. A lot of the time, that’s OK. For
example, the score in our UI increments each time a 6 is rolled. It doesn’t
matter what the previous score was, we just need to display the current one.</p><p>However, if you’ve tried rolling the die in our example above, you may have
noticed a problem. Sometimes the roll animation isn’t triggered! That’s
because we’re only animating the die when <code data-astro-raw="">G.roll</code> changes. What happens if
we roll the same value twice in a row? Nothing. The value of <code data-astro-raw="">G.roll</code> hasn’t
changed, so the animation wasn’t triggered.</p><p>So now comes the problem: how do we tell if a <code data-astro-raw="">1</code> followed by a <code data-astro-raw="">1</code> means that
the die wasn’t rolled or if it means that we rolled a <code data-astro-raw="">1</code> twice in a row?</p><p><code data-astro-raw="">bgio-effects</code> is one answer to that question. It allows the game code to
say explicitly, “The die was rolled,” so that the client doesn’t have to guess
by trying to spot the difference between two states.</p><aside class="content note astro-V5AEQFEI" aria-labelledby="1nqqu8b7cge0">
  <p id="1nqqu8b7cge0" class="title astro-V5AEQFEI">
    <span aria-hidden="true" class="icon astro-V5AEQFEI"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.7A1 1 0 0 1 6 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7A1 1 0 0 1 7 6a1 1 0 0 1-.7-.3zM8 8a1 1 0 0 0-.3-.7A1 1 0 0 0 7 7H6a1 1 0 0 0-.7.3A1 1 0 0 0 5 8h1v3c0 .3.1.5.3.7.2.2.4.3.7.3h1c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7H8V8zM7 2.3a5.7 5.7 0 1 0 0 11.4A5.7 5.7 0 0 0 7 2.3zM7 1a7 7 0 1 1 0 14A7 7 0 0 1 7 1z"></path></svg></span>
    note
  </p>
  <section class="astro-V5AEQFEI"><p>You might be thinking, “Can’t we just animate the die every move? Why
only when <code data-astro-raw="">G.roll</code> changes?” In this minimal example, maybe we could. But
imagine we had two moves in our game and only one of them rolled the die.
Then animating the die every move wouldn’t work either.</p></section>
</aside>

<h2 id="adding-effects-to-the-game">Adding effects to the game</h2><p><code data-astro-raw="">bgio-effects</code> provides a plugin for boardgame.io that adds new functionality
for use in your game code. We import the plugin like this:</p><pre class="language-js"><code data-astro-raw="" class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> EffectsPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'bgio-effects/plugin'</span><span class="token punctuation">;</span></code></pre><p>We now need to configure the plugin so it knows about the kinds of effects that
exist in our game. Let’s configure a single <code data-astro-raw="">roll</code> effect that will take the
new value of the rolled die. (See <a href="../plugin/config">the configuration docs</a>
for more details.)</p><pre class="language-js"><code data-astro-raw="" class="language-js"><span class="token keyword">const</span> configuredEffectsPlugin <span class="token operator">=</span> <span class="token function">EffectsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">effects</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">roll</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">create</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Now we add our <code data-astro-raw="">configuredEffectsPlugin</code> to our game’s <code data-astro-raw="">plugins</code> and update our
<code data-astro-raw="">roll</code> move to use the effects API we’ve just added.</p><pre class="language-js"><code data-astro-raw="" class="language-js"><span class="token keyword">const</span> game <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// Add the plugin to the game.</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>configuredEffectsPlugin<span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token function-variable function">setup</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">roll</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token literal-property property">moves</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">roll</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token constant">G</span><span class="token punctuation">,</span> ctx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token constant">G</span><span class="token punctuation">.</span>roll <span class="token operator">=</span> ctx<span class="token punctuation">.</span>random<span class="token punctuation">.</span><span class="token constant">D6</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// Call the newly added roll effect.</span>
      ctx<span class="token punctuation">.</span>effects<span class="token punctuation">.</span><span class="token function">roll</span><span class="token punctuation">(</span><span class="token constant">G</span><span class="token punctuation">.</span>roll<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">G</span><span class="token punctuation">.</span>roll <span class="token operator">===</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token constant">G</span><span class="token punctuation">.</span>score<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function-variable function">endIf</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token constant">G</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">G</span><span class="token punctuation">.</span>score <span class="token operator">&gt;=</span> <span class="token number">5</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>This won’t appear to have much effect yet. <code data-astro-raw="">G</code> still looks and behaves the
same, but behind the scenes, the plugin is storing data that will let us
receive effects on the client.</p><h2 id="listening-for-effects">Listening for effects</h2><p>We can update how our client code triggers the die animation. Instead of
animating each time <code data-astro-raw="">G.roll</code> changes, we can animate each time our new
<code data-astro-raw="">roll</code> effect is emitted.</p>
<div class="tabbed astro-HYSHTKDU">
  <ul class="astro-HYSHTKDU">
    <li class="astro-HYSHTKDU"><a href="#section-1-2cdnu22u39p0" class="astro-HYSHTKDU">Plain JS</a></li>
    <li class="astro-HYSHTKDU"><a href="#section-2-2cdnu22u39p0" class="astro-HYSHTKDU">React</a></li>
  </ul>
  <div class="content astro-HYSHTKDU">
    <section id="section-1-2cdnu22u39p0" class="astro-HYSHTKDU">
      <pre class="language-js"><code data-astro-raw="" class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> EffectsEmitter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'bgio-effects/client'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> emitter <span class="token operator">=</span> <span class="token function">EffectsEmitter</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span class="token punctuation">;</span>

emitter<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'roll'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">animateDie</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

emitter<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// more logic to render score, etc.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><aside class="content info astro-V5AEQFEI" aria-labelledby="1illk0s3mk1g">
  <p id="1illk0s3mk1g" class="title astro-V5AEQFEI">
    <span aria-hidden="true" class="icon astro-V5AEQFEI"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3a5.7 5.7 0 0 1 0 11.4A5.7 5.7 0 0 1 1.3 8c0-3.1 2.6-5.7 5.7-5.7zM7 1a7 7 0 1 0 0 14A7 7 0 0 0 7 1zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>
    info
  </p>
  <section class="astro-V5AEQFEI"><p>Note that we are no longer calling <code data-astro-raw="">client.subscribe</code> to get the main state
update. Instead, we call <code data-astro-raw="">emitter.state.subscribe</code>. For now these are
equivalent, but as we shall see later, subscribing via the emitter will have
some advantages.</p></section>
</aside>

<p>See <a href="../client/plain-js">the plain JS client docs</a> for more details about
<code data-astro-raw="">EffectsEmitter</code>.</p>
    </section>
    <section id="section-2-2cdnu22u39p0" class="astro-HYSHTKDU">
      <pre class="language-jsx"><code data-astro-raw="" class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> EffectsBoardWrapper<span class="token punctuation">,</span> useEffectListener <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'bgio-effects/react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Board</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> <span class="token constant">G</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Each time the roll effect fires, trigger the die’s roll animation.</span>
  <span class="token function">useEffectListener</span><span class="token punctuation">(</span><span class="token string">'roll'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">animateDie</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token comment">/* render die, score etc. */</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Wrap the board component to add the effects emitter.</span>
<span class="token comment">// Pass this wrapped component to boardgame.io’s React client.</span>
<span class="token keyword">const</span> BoardWithEffects <span class="token operator">=</span> <span class="token function">EffectsBoardWrapper</span><span class="token punctuation">(</span>Board<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>See <a href="../client/react">the React client docs</a> for more details about the
<code data-astro-raw="">EffectsBoardWrapper</code> and the <code data-astro-raw="">useEffectListener</code> hook.</p>
    </section>
  </div>
</div>



<p>With these changes implemented, our die rolls every time it should! Even if
we roll the same value twice in a row.</p><astro-root uid="Z1vA6Tj"><div class="bgio-client"><div class="board"><div class="left-panel"><div class="left-panel-top"><div class="jk-die" style="--jk-die-size:3rem" aria-label="Die showing 1" role="img"><div class="jk-shadow" aria-hidden="true"></div><div class="jk-die-body" style="transform:rotateX(20deg) rotateZ(45deg) rotateY(90deg)" aria-hidden="true"><div class="jk-internal" style="transform:rotateZ(0deg)"></div><div class="jk-internal" style="transform:rotateX(90deg)"></div><div class="jk-internal" style="transform:rotateY(90deg)"></div><div class="jk-face" style="transform:rotateY(-90deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="50" cy="50"></circle></svg></div><div class="jk-inner-face" style="transform:rotateY(-90deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateX(-90deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="75" cy="25"></circle></svg></div><div class="jk-inner-face" style="transform:rotateX(-90deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateY(90deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="50" cy="50"></circle><circle r="7" cx="75" cy="25"></circle></svg></div><div class="jk-inner-face" style="transform:rotateY(90deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateY(0deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="25"></circle><circle r="7" cx="75" cy="25"></circle><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="75" cy="75"></circle></svg></div><div class="jk-inner-face" style="transform:rotateY(0deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateX(90deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="25"></circle><circle r="7" cx="75" cy="25"></circle><circle r="7" cx="50" cy="50"></circle><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="75" cy="75"></circle></svg></div><div class="jk-inner-face" style="transform:rotateX(90deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateX(180deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="25"></circle><circle r="7" cx="75" cy="25"></circle><circle r="7" cx="25" cy="50"></circle><circle r="7" cx="75" cy="50"></circle><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="75" cy="75"></circle></svg></div><div class="jk-inner-face" style="transform:rotateX(180deg) translateZ(calc(var(--jk-die-size) * .49))"></div></div></div></div><button class="left-panel-bottom">Roll Die</button></div><div><p><span>Rolls: <strong>0</strong></span><br><label><span>Sixes: <strong>0</strong></span><progress max="5" value="0">0</progress></label></p><p></p></div><small class="src-link"><a href="https://github.com/delucis/bgio-effects/blob/latest/docs/src/pages/tutorial/snippet-2.tsx">snippet-2.tsx</a></small></div></div></astro-root><aside class="content note astro-V5AEQFEI" aria-labelledby="b0he278im2k">
  <p id="b0he278im2k" class="title astro-V5AEQFEI">
    <span aria-hidden="true" class="icon astro-V5AEQFEI"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.7A1 1 0 0 1 6 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7A1 1 0 0 1 7 6a1 1 0 0 1-.7-.3zM8 8a1 1 0 0 0-.3-.7A1 1 0 0 0 7 7H6a1 1 0 0 0-.7.3A1 1 0 0 0 5 8h1v3c0 .3.1.5.3.7.2.2.4.3.7.3h1c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7H8V8zM7 2.3a5.7 5.7 0 1 0 0 11.4A5.7 5.7 0 0 0 7 2.3zM7 1a7 7 0 1 1 0 14A7 7 0 0 1 7 1z"></path></svg></span>
    note
  </p>
  <section class="astro-V5AEQFEI"><p>You may notice that this fixed another subtle bug. The last implementation
played the die animation when the component first mounted. Because
<a href="../client/notes#initial-render"><code data-astro-raw="">bgio-effects</code> doesn’t emit effects on initial render</a>,
that problem has also been fixed.</p></section>
</aside>

<h2 id="wait-a-second">Wait a second…</h2><p>History hangs in the balance. Will you roll a six and move one point closer to
a hard-won victory? The die spins, starting to settle. You’re in suspense, on
tenterhooks, waiting with baited breath… Or rather, you would be, but our UI
ruins the tension. While the die spins, the score updates immediately and gives
away what the result will be.</p><p>Timing is the second area where <code data-astro-raw="">bgio-effects</code> can help us out.</p><p>When configuring the effects plugin, we can set a default duration for each
effect. The die animation takes 1 second, so we set the <code data-astro-raw="">roll</code> effect to have a
duration of <code data-astro-raw="">1</code>.</p><pre class="language-js"><code data-astro-raw="" class="language-js"><span class="token keyword">const</span> configuredEffectsPlugin <span class="token operator">=</span> <span class="token function">EffectsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">effects</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">roll</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">create</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> value<span class="token punctuation">,</span>
      <span class="token comment">// Give our effect a default duration of 1 second.</span>
      <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>On its own this change won’t do anything yet. We want to delay showing the new
score until the effect has finished. To do that we need to make a change to our
client.</p>
<div class="tabbed astro-HYSHTKDU">
  <ul class="astro-HYSHTKDU">
    <li class="astro-HYSHTKDU"><a href="#section-1-2idiiuh6co80" class="astro-HYSHTKDU">Plain JS</a></li>
    <li class="astro-HYSHTKDU"><a href="#section-2-2idiiuh6co80" class="astro-HYSHTKDU">React</a></li>
  </ul>
  <div class="content astro-HYSHTKDU">
    <section id="section-1-2idiiuh6co80" class="astro-HYSHTKDU">
      <p>We can opt into this behaviour when setting up our <code data-astro-raw="">EffectsEmitter</code>:</p><pre class="language-js"><code data-astro-raw="" class="language-js"><span class="token keyword">const</span> emitter <span class="token operator">=</span> <span class="token function">EffectsEmitter</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// Wait until all effects have finished before updating state.</span>
  <span class="token literal-property property">updateStateAfterEffects</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
    </section>
    <section id="section-2-2idiiuh6co80" class="astro-HYSHTKDU">
      <p>We can opt into this behaviour when wrapping our board component:</p><pre class="language-js"><code data-astro-raw="" class="language-js"><span class="token keyword">const</span> BoardWithEffects <span class="token operator">=</span> <span class="token function">EffectsBoardWrapper</span><span class="token punctuation">(</span>Board<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// Wait until all effects have finished before updating state.</span>
  <span class="token literal-property property">updateStateAfterEffects</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
    </section>
  </div>
</div>



<p>By enabling the <code data-astro-raw="">updateStateAfterEffects</code> option, we can continue to use the
declarative state provided by boardgame.io wherever it makes sense to, but
only show it once we’ve finished rendering effects.</p><p>After adding these two changes to our example UI, you can see that the score
only updates once the die stops rolling.</p><astro-root uid="tQbcr"><div class="bgio-client"><div class="board"><div class="left-panel"><div class="left-panel-top"><div class="jk-die" style="--jk-die-size:3rem" aria-label="Die showing 1" role="img"><div class="jk-shadow" aria-hidden="true"></div><div class="jk-die-body" style="transform:rotateX(20deg) rotateZ(45deg) rotateY(90deg)" aria-hidden="true"><div class="jk-internal" style="transform:rotateZ(0deg)"></div><div class="jk-internal" style="transform:rotateX(90deg)"></div><div class="jk-internal" style="transform:rotateY(90deg)"></div><div class="jk-face" style="transform:rotateY(-90deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="50" cy="50"></circle></svg></div><div class="jk-inner-face" style="transform:rotateY(-90deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateX(-90deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="75" cy="25"></circle></svg></div><div class="jk-inner-face" style="transform:rotateX(-90deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateY(90deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="50" cy="50"></circle><circle r="7" cx="75" cy="25"></circle></svg></div><div class="jk-inner-face" style="transform:rotateY(90deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateY(0deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="25"></circle><circle r="7" cx="75" cy="25"></circle><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="75" cy="75"></circle></svg></div><div class="jk-inner-face" style="transform:rotateY(0deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateX(90deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="25"></circle><circle r="7" cx="75" cy="25"></circle><circle r="7" cx="50" cy="50"></circle><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="75" cy="75"></circle></svg></div><div class="jk-inner-face" style="transform:rotateX(90deg) translateZ(calc(var(--jk-die-size) * .49))"></div><div class="jk-face" style="transform:rotateX(180deg) translateZ(calc(var(--jk-die-size) * .5))"><svg viewBox="0 0 100 100" class="jk-pip-face"><circle r="7" cx="25" cy="25"></circle><circle r="7" cx="75" cy="25"></circle><circle r="7" cx="25" cy="50"></circle><circle r="7" cx="75" cy="50"></circle><circle r="7" cx="25" cy="75"></circle><circle r="7" cx="75" cy="75"></circle></svg></div><div class="jk-inner-face" style="transform:rotateX(180deg) translateZ(calc(var(--jk-die-size) * .49))"></div></div></div></div><button class="left-panel-bottom">Roll Die</button></div><div><p><span>Rolls: <strong>0</strong></span><br><label><span>Sixes: <strong>0</strong></span><progress max="5" value="0">0</progress></label></p><p></p></div><small class="src-link"><a href="https://github.com/delucis/bgio-effects/blob/latest/docs/src/pages/tutorial/snippet-3.tsx">snippet-3.tsx</a></small></div></div></astro-root><h2 id="wrapping-up">Wrapping up</h2><p>We’ve successfully used <code data-astro-raw="">bgio-effects</code> to solve a couple of problems that would
have been tricky to fix using boardgame.io on its own. Using a roll effect
gave us an imperative hook to trigger animations with instead of trying to
compare state updates on the client. Adding an effect duration and turning on
<code data-astro-raw="">updateStateAfterEffects</code> allowed us to delay state updates until our <code data-astro-raw="">roll</code>
effect had completed.</p><p>Next, you may want to read about how to
<a href="../plugin/sequencing">sequence multiple effects</a> or look at the in-depth client
documentation for <a href="../client/plain-js">plain JS</a> and <a href="../client/react">React</a>
clients.</p>
	</section>
	<nav class="block sm:hidden astro-O4NKPHGZ">
		
<h2 class="heading astro-XJO2LFCZ">More</h2>
<ul class="astro-XJO2LFCZ">
	<li class="header-link depth-2 astro-XJO2LFCZ">
			<a class="edit-on-github astro-XJO2LFCZ" href="https://github.com/delucis/bgio-effects/blob/latest/docs/src/pages/tutorial.md" target="_blank" rel="noopener">
				<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen" class="svg-inline--fa fa-pen fa-w-16 astro-XJO2LFCZ" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em">
					<path fill="currentColor" d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z" class="astro-XJO2LFCZ"></path>
				</svg>
				<span class="astro-XJO2LFCZ">Edit this page</span>
			</a>
		</li>
</ul>
<div style="margin: 4rem 0; text-align: center;" class="astro-XJO2LFCZ">
	<astro-root uid="Z17pie"><div class="theme-toggle"><label class=""><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fillrule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" cliprule="evenodd"></path></svg><input type="radio" name="theme-toggle" value="light" title="Use light theme" aria-label="Use light theme"></label><label class=""><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg><input type="radio" name="theme-toggle" value="dark" title="Use dark theme" aria-label="Use dark theme"></label></div></astro-root>
</div>



	</nav>
</article>



			</div>
			<aside id="grid-right" class="grid-sidebar astro-LQWZJZ7L" title="Table of Contents">
				
<nav class="sidebar-nav astro-YMMYGH66" aria-labelledby="grid-right">
	<div class="sidebar-nav-inner astro-YMMYGH66">
		<astro-root uid="ZDB7c1"><h2 class="heading">On this page</h2><ul><li class="header-link depth-2"><a href="#overview">Overview</a></li><li class="header-link depth-2"><a href="#installation">Installation</a></li><li class="header-link depth-2"><a href="#our-starting-point">Our starting point</a></li><li class="header-link depth-2"><a href="#spot-the-difference">Spot the difference</a></li><li class="header-link depth-2"><a href="#adding-effects-to-the-game">Adding effects to the game</a></li><li class="header-link depth-2"><a href="#listening-for-effects">Listening for effects</a></li><li class="header-link depth-2"><a href="#wait-a-second">Wait a second…</a></li><li class="header-link depth-2"><a href="#wrapping-up">Wrapping up</a></li></ul></astro-root>
		
<h2 class="heading astro-XJO2LFCZ">More</h2>
<ul class="astro-XJO2LFCZ">
	<li class="header-link depth-2 astro-XJO2LFCZ">
			<a class="edit-on-github astro-XJO2LFCZ" href="https://github.com/delucis/bgio-effects/blob/latest/docs/src/pages/tutorial.md" target="_blank" rel="noopener">
				<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen" class="svg-inline--fa fa-pen fa-w-16 astro-XJO2LFCZ" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em">
					<path fill="currentColor" d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z" class="astro-XJO2LFCZ"></path>
				</svg>
				<span class="astro-XJO2LFCZ">Edit this page</span>
			</a>
		</li>
</ul>
<div style="margin: 4rem 0; text-align: center;" class="astro-XJO2LFCZ">
	<astro-root uid="Z17pie"><div class="theme-toggle"><label class=""><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fillrule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" cliprule="evenodd"></path></svg><input type="radio" name="theme-toggle" value="light" title="Use light theme" aria-label="Use light theme"></label><label class=""><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg><input type="radio" name="theme-toggle" value="dark" title="Use dark theme" aria-label="Use dark theme"></label></div></astro-root>
</div>



	</div>
</nav>



			</aside>
		</main>
	
<footer class="astro-BGTRAZIO">
	<ul class="astro-BGTRAZIO">
		<li class="astro-BGTRAZIO">
			<a href="https://github.com/delucis/bgio-effects" class="icon-link astro-BGTRAZIO">
				<span class="sr-only astro-BGTRAZIO">GitHub</span>
				<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 496 512" class="astro-BGTRAZIO"><path fill="currentcolor" d="M166 397c0 2-2 4-5 4-4 0-6-1-6-4 0-2 2-3 5-3 3-1 6 1 6 3zm-31-4c-1 2 1 4 4 5s6 0 6-2-1-5-4-5c-3-1-5 0-6 2zm44-2c-3 1-5 3-5 5 1 2 3 3 6 3 3-1 5-3 5-5s-3-3-6-3zM245 8A240 240 0 0 0 0 252c0 111 70 206 170 239 12 2 17-5 17-12v-61s-70 15-85-30c0 0-12-29-28-37 0 0-23-15 2-15 0 0 24 2 38 26 22 38 59 27 73 21 2-16 9-28 16-34-56-6-112-14-112-111 0-27 7-41 23-59-2-6-11-33 3-67 21-7 69 27 69 27a237 237 0 0 1 126 0s48-34 69-27c13 34 5 61 2 67 16 18 26 32 26 59 0 97-59 105-115 111 9 8 17 23 17 46v84c0 6 5 14 17 12a248 248 0 0 0 168-239C496 113 384 8 245 8zM97 353c-1 1-1 3 1 5 1 2 4 2 5 1s1-3-1-5c-1-2-4-2-5-1zm-11-8 3 4c1 1 3 0 4-1s0-3-2-4-4 0-5 1zm33 35c-2 2-1 5 1 7s5 2 7 1c1-2 0-5-2-7s-5-2-6-1zm-12-14v6c2 2 5 3 6 2 2-1 2-4 0-6-1-3-4-4-6-2z" class="astro-BGTRAZIO"></path></svg>
			</a>
		</li>
		<li class="astro-BGTRAZIO">
			<a href="https://www.npmjs.com/package/bgio-effects" class="icon-link astro-BGTRAZIO">
				<span class="sr-only astro-BGTRAZIO">npm</span>
			  <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 576 512" class="astro-BGTRAZIO"><path fill="currentcolor" d="M288 288h-32v-64h32v64zm288-128v192H288v32H160v-32H0V160h576zm-416 32H32v128h64v-96h32v96h32V192zm160 0H192v160h64v-32h64V192zm224 0H352v128h64v-96h32v96h32v-96h32v96h32V192z" class="astro-BGTRAZIO"></path></svg>
			</a>
		</li>
	</ul>
</footer>



</body></html>